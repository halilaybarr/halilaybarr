name: Export LinkedIn banners

on:
  workflow_dispatch:
  push:
    paths:
      - 'assets/linkedin-banners/**'

jobs:
  export:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install Inkscape
        run: |
          sudo apt-get update
          sudo apt-get install -y inkscape

      - name: Export PNGs
        run: |
          inkscape -w 1584 -h 396 -o assets/linkedin-banners/banner-light.png assets/linkedin-banners/banner-light.svg
          inkscape -w 1584 -h 396 -o assets/linkedin-banners/banner-dark.png assets/linkedin-banners/banner-dark.svg

      - name: Upload artifacts
        uses: actions/upload-artifact@v4
        with:
          name: linkedin-banners
          path: |
            assets/linkedin-banners/banner-light.png
            assets/linkedin-banners/banner-dark.png